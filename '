# illuminated

[![Go - Test & Build](https://github.com/getlantern/illuminated/actions/workflows/go.yml/badge.svg)](https://github.com/getlantern/illuminated/actions/workflows/go.yml)

internationalization tool for GitHub wikis

## purpose

It should be possible for an update to an arbitrary markdown, like en/doc.md, to generate new, complete en.json source files and empty *.json translation files, in addition to generating the doc.md.tmpl which can regenerate the original en/doc.md or any other translation using itself any any *.json translation file. Then generate a pdf for each translation.

## usage

### development
To delete all example files and start over with newly built binary, run:
```sh
$ ./test.sh {local|remote} {mock|google}
```

### production
Build the binary.
```sh
$ go build -o illuminated
```

Generate a single, joined HTML and PDF for 5 langauges using Google translate.
```sh
$ ./illuminated generate --verbose \
  --source https://github.com/getlantern/guide.wiki.git \
  --base "en" \
  --languages "en,zh,ru,fa,ar" \
  --translator "google" \
  --html \
  --pdf \
  --join
```

Stage the source documentation (either a local filepath or a wiki URL).
```sh
$ ./illuminated update --source $WIKI_URL -d docs
```

After translation, generate html and/or pdf, optionally joined. Strict will fail on any missing translations, otherwise, any missing strings will fallback to the base language specified at initialization.
```sh
$ ./illuminated generate -d docs --html --pdf --join --strict
```

## Future Work
- [x] read from ~dir~ or ~wiki source~
- [x] write unit tests
- [x] generate TOC
- [x] implement fallback to base language
- [x] append multiple docs
- [x] create mechanism for warning on uncurrent translations
- [x] support pictures
- [x] test E2E (including Pandoc calls) in CI
- [ ] support style for pagebreaks
- [ ] handle footer
- [ ] don't mutate data in place
- [ ] fix bug with "skipping file with no body"
- [ ] update fonts

## fonts
- DejaVu works for ru, fa, not zh

